# ============================================================================
# Security Headers
# ============================================================================
# This file contains HTTP security headers applied to all virtual hosts.
# Include this file in each server block with: include /etc/nginx/includes/security-headers.conf;
# ============================================================================

# HSTS (HTTP Strict Transport Security)
# Forces browsers to use HTTPS for 1 year, includes all subdomains
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;

# Prevent MIME type sniffing
# Stops browsers from guessing content types
add_header X-Content-Type-Options "nosniff" always;

# Clickjacking protection
# Allows embedding only from same origin
add_header X-Frame-Options "SAMEORIGIN" always;

# XSS protection for older browsers
# Modern browsers use CSP instead, but this helps legacy support
add_header X-XSS-Protection "1; mode=block" always;

# Referrer policy
# Only send referrer to same-origin requests
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

# Permissions policy (feature control)
# Blocks access to sensitive browser APIs
add_header Permissions-Policy "geolocation=(), microphone=(), camera=()" always;
